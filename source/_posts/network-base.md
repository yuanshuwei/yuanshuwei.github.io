---
title: 网络基础知识
date: 2019-06-18 23:00:53
tags:
categories:
---

网络基础知识整理
<!--more-->

## OSI七层模型
- **物理层(网卡)**: 比特流; 二级制->电流强弱->二进制 (数模, 模数 转换)
- **数据链路层(交换机)**: 帧; 格式化数据，错误检测和纠正
- **网络层(路由器)**: 分组数据报; 网络地址转换为物理地址，并决定如何发送到接收方，路径；IP协议
- **传输层**: 分段； 拆分为多个数据包segment, 决定传输速率，顺序；TCP协议
- **会话层**: 管理应用程序自动发包，寻址。不同机器上
- **表示层**: 不同系统通信语法解决，格式化
- **应用层**: 规定消息头格式，消息体。解读信息

TCP/IP(OSI的实现)

TCP
--
- 面向连接、可靠的、基于字节流的传输层通信协议
- 将应用层数据流分割成报文段并发送给目标节点TCP层
- 数据包有序号，发ACK确认
- 使用校验和检验数据在传输过程

TCP 标志
- URG: 紧急指针标志
- ACK: 确认序号标志
- PSH: push标志
- RST: 重置连接标志
- SYN: 同步序号，用于建立连接过程
- FIN: finish标志, 用于释放连接

TCP三个握手
--
- ①建立连接时，客户端发送SYN包到服务器，并进去 `SYN_SEND` 状态，等待服务器确认。 `SYN=1, seq=x`。
- ②服务器收到SYN包，必须确认客户的SYN(ack=j+1)，同时自己也发送一个SYN包(syn=k)， 此时服务器进入`SYN_RECV` 状态； `SYN=1, ACK=1, seq=y, ack=x+1`。
- ③客户端收到服务器 SYN+ACK 包，向服务器发送确认包ACK(ack=k+1),此包发送完毕，客户端和服务器进入连接状态；`ACK=1，seq=x+1, ack=y+1`。

为什么是三次握手?  
为初始化Sequence Number的初始值